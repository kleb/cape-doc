<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>4.2. Setting Freestream Conditions in Cape &mdash; pyCart 0.8 documentation</title>
    
    <link rel="stylesheet" href="../_static/sphinxdoc.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '0.8',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="top" title="pyCart 0.8 documentation" href="../index.html" />
    <link rel="up" title="4. Cape Module Documentation" href="index.html" />
    <link rel="next" title="4.3. The cape module" href="cape/index.html" />
    <link rel="prev" title="4.1.8. Trajectory or Run Matrix" href="json/Trajectory.html" /> 
  </head>
  <body role="document">
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="cape/index.html" title="4.3. The cape module"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="json/Trajectory.html" title="4.1.8. Trajectory or Run Matrix"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">pyCart 0.8 documentation</a> &raquo;</li>
          <li class="nav-item nav-item-1"><a href="index.html" accesskey="U">4. Cape Module Documentation</a> &raquo;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">4.2. Setting Freestream Conditions in Cape</a><ul>
<li><a class="reference internal" href="#angle-of-attack-and-sideslip">4.2.1. Angle of Attack and Sideslip</a></li>
<li><a class="reference internal" href="#freestream-state">4.2.2. Freestream State</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="json/Trajectory.html"
                        title="previous chapter">4.1.8. Trajectory or Run Matrix</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="cape/index.html"
                        title="next chapter">4.3. The <code class="docutils literal"><span class="pre">cape</span></code> module</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/cape/freestream.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="setting-freestream-conditions-in-cape">
<span id="cape-freestream"></span><h1>4.2. Setting Freestream Conditions in Cape<a class="headerlink" href="#setting-freestream-conditions-in-cape" title="Permalink to this headline">¶</a></h1>
<p>Setting freestream conditions for the various solvers in Cape is controlled from
the JSON file (e.g. <code class="file docutils literal"><span class="pre">pyCart.json</span></code>) and the run matrix file.  Varying
freestream conditions like Mach number, angle of attack, sideslip angle,
temperature, and pressure is one of the most common ways to use Cape or any
other CFD wrapper.</p>
<p>Cape adds a few capabilities to this procedure that are not exactly typical.
The freestream conditions are divided into two groups.  The first group sets the
orientation of the velocity relative to the CFD domain, and the second group
sets the freestream state.</p>
<div class="section" id="angle-of-attack-and-sideslip">
<span id="cape-alpha-beta"></span><h2>4.2.1. Angle of Attack and Sideslip<a class="headerlink" href="#angle-of-attack-and-sideslip" title="Permalink to this headline">¶</a></h2>
<p>Most CFD solvers need an input angle of attack and sideslip angle, commonly
known as <em>alpha</em> and <em>beta</em>, respectively.  Cape recognizes this and provides
both as standard input variables.  However, there is another convention that is
especially common in the missile and launch vehicle fields that uses the total
angle of attack and roll angle.  The parameters are related using the following
two equations.</p>
<blockquote>
<div><div class="math">
<p><img src="../_images/math/c04aa0a0d603ec1623b8b30c5bf186f642c8ea06.png" alt="\tan\alpha &amp;= \cos\phi\tan\alpha_T \\
\sin\beta  &amp;= \sin\phi\sin\alpha_T"/></p>
</div></div></blockquote>
<p>The total angle of attack is the angle between the body <em>x</em> axis (or the <em>x</em>
axis of the CFD coordinate system) and the velocity, and the roll angle gives
the angle of the velocity projected into the CFD <em>yz</em> plane.</p>
<p>Cape also provides <em>alpha_t</em> and <em>phi</em> as variables for the user, and it
automatically calculates <em>alpha</em> and <em>beta</em> accordingly.  These are listed in
the <a class="reference internal" href="json/Trajectory.html#cape-json-trajectorygroups"><span>JSON settings description</span></a>, and more
details are provided below.</p>
<blockquote>
<div><p><strong>alpha</strong>: <code class="xref py py-class docutils literal"><span class="pre">dict</span></code></p>
<blockquote>
<div><dl class="docutils">
<dt><em>Group</em>: <code class="docutils literal"><span class="pre">True</span></code> | {<code class="docutils literal"><span class="pre">False</span></code>}</dt>
<dd>Whether or not to consider the angle of attack as a group key</dd>
<dt><em>Type</em>: <code class="docutils literal"><span class="pre">&quot;alpha&quot;</span></code></dt>
<dd>Trajectory key type, must be <code class="docutils literal"><span class="pre">&quot;alpha&quot;</span></code> for this type of key</dd>
<dt><em>Value</em>: <code class="docutils literal"><span class="pre">&quot;float&quot;</span></code></dt>
<dd>Name of Python type for this key, must be <code class="xref py py-class docutils literal"><span class="pre">float</span></code></dd>
<dt><em>Label</em>: {<code class="docutils literal"><span class="pre">True</span></code>} | <code class="docutils literal"><span class="pre">False</span></code></dt>
<dd>Whether or not to use the value of this key in the folder name</dd>
<dt><em>Abbreviation</em>: {<code class="docutils literal"><span class="pre">&quot;a&quot;</span></code>} | <code class="xref py py-class docutils literal"><span class="pre">str</span></code></dt>
<dd>Abbreviation for this variable when creating folder names</dd>
<dt><em>Format</em>: {<code class="docutils literal"><span class="pre">&quot;%s&quot;</span></code>} | <code class="docutils literal"><span class="pre">&quot;%.2f&quot;</span></code> | <code class="xref py py-class docutils literal"><span class="pre">str</span></code></dt>
<dd>Print flag for the name of the folder</dd>
<dt><em>PBSLabel</em>: {<code class="docutils literal"><span class="pre">True</span></code>} | <code class="docutils literal"><span class="pre">False</span></code></dt>
<dd>Whether or not to use the value of this key in the PBS job name</dd>
<dt><em>PBSFormat</em>: {<code class="docutils literal"><span class="pre">%.1f</span></code>} | <code class="docutils literal"><span class="pre">%s</span></code> | <code class="xref py py-class docutils literal"><span class="pre">str</span></code></dt>
<dd>Print flag for the name of the PBS job</dd>
</dl>
</div></blockquote>
<p><strong>beta</strong>: <code class="xref py py-class docutils literal"><span class="pre">dict</span></code></p>
<blockquote>
<div><dl class="docutils">
<dt><em>Group</em>: <code class="docutils literal"><span class="pre">True</span></code> | {<code class="docutils literal"><span class="pre">False</span></code>}</dt>
<dd>Whether or not to consider the angle of attack as a group key</dd>
<dt><em>Type</em>: <code class="docutils literal"><span class="pre">&quot;beta&quot;</span></code></dt>
<dd>Trajectory key type, must be <code class="docutils literal"><span class="pre">&quot;beta&quot;</span></code> for this type of key</dd>
<dt><em>Value</em>: <code class="docutils literal"><span class="pre">&quot;float&quot;</span></code></dt>
<dd>Name of Python type for this key, must be <code class="xref py py-class docutils literal"><span class="pre">float</span></code></dd>
<dt><em>Label</em>: {<code class="docutils literal"><span class="pre">True</span></code>} | <code class="docutils literal"><span class="pre">False</span></code></dt>
<dd>Whether or not to use the value of this key in the folder name</dd>
<dt><em>Abbreviation</em>: {<code class="docutils literal"><span class="pre">&quot;b&quot;</span></code>} | <code class="xref py py-class docutils literal"><span class="pre">str</span></code></dt>
<dd>Abbreviation for this variable when creating folder names</dd>
<dt><em>Format</em>: {<code class="docutils literal"><span class="pre">&quot;%s&quot;</span></code>} | <code class="docutils literal"><span class="pre">&quot;%.2f&quot;</span></code> | <code class="xref py py-class docutils literal"><span class="pre">str</span></code></dt>
<dd>Print flag for the name of the folder</dd>
<dt><em>PBSLabel</em>: {<code class="docutils literal"><span class="pre">True</span></code>} | <code class="docutils literal"><span class="pre">False</span></code></dt>
<dd>Whether or not to use the value of this key in the PBS job name</dd>
<dt><em>PBSFormat</em>: {<code class="docutils literal"><span class="pre">%.1f</span></code>} | <code class="docutils literal"><span class="pre">%s</span></code> | <code class="xref py py-class docutils literal"><span class="pre">str</span></code></dt>
<dd>Print flag for the name of the PBS job</dd>
<dt><em>SkipIfZero</em>: <code class="docutils literal"><span class="pre">True</span></code> | {<code class="docutils literal"><span class="pre">False</span></code>}</dt>
<dd>If set, skip this in the folder name.  For example, a folder name
would be <code class="docutils literal"><span class="pre">m2.5a1.0</span></code> instead of <code class="docutils literal"><span class="pre">m2.5a1.0b0.0</span></code>.</dd>
</dl>
</div></blockquote>
</div></blockquote>
<p>If the user names a trajectory key <em>alpha</em> or <em>beta</em>, these settings
automatically get applied.  However, the user can alter the default settings in
the JSON file or use a different variable name.  If the variable name is
something completely different, like <code class="docutils literal"><span class="pre">&quot;TV&quot;</span></code>, the <em>Type</em> flag can still define
the variable as an angle of attack.  See the following example.</p>
<blockquote>
<div><div class="highlight-javascript"><div class="highlight"><pre><span></span><span class="s2">&quot;TV&quot;</span><span class="o">:</span> <span class="p">{</span>
    <span class="s2">&quot;Type&quot;</span><span class="o">:</span> <span class="s2">&quot;alpha&quot;</span><span class="p">,</span>
    <span class="s2">&quot;Format&quot;</span><span class="o">:</span> <span class="s2">&quot;%05.2f&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
</div></blockquote>
<p>Setting the <em>Format</em> flag to has two purposes.  The first is to keep a
consistent number of characters and have the folder names sorted in a more
logical order.  For example, <code class="docutils literal"><span class="pre">a10.00</span></code> comes before <code class="docutils literal"><span class="pre">a2.00</span></code> but not
<code class="docutils literal"><span class="pre">a02.00</span></code>.  The second reason for using <em>Format</em> other than <code class="docutils literal"><span class="pre">&quot;%s&quot;</span></code> is to trim
extra digits.  This avoids having folder names such as <code class="docutils literal"><span class="pre">a2.7893478247</span></code>.</p>
<p>The second way to define the flow angles is using <em>alpha_t</em> and <em>phi</em>.</p>
<blockquote>
<div><p><strong>alpha_t</strong>: <code class="xref py py-class docutils literal"><span class="pre">dict</span></code></p>
<blockquote>
<div><dl class="docutils">
<dt><em>Group</em>: <code class="docutils literal"><span class="pre">True</span></code> | {<code class="docutils literal"><span class="pre">False</span></code>}</dt>
<dd>Whether or not to consider the angle of attack as a group key</dd>
<dt><em>Type</em>: <code class="docutils literal"><span class="pre">&quot;alpha_t&quot;</span></code></dt>
<dd>Trajectory key type, must be <code class="docutils literal"><span class="pre">&quot;alpha_t&quot;</span></code> for this type of key</dd>
<dt><em>Value</em>: <code class="docutils literal"><span class="pre">&quot;float&quot;</span></code></dt>
<dd>Name of Python type for this key, must be <code class="xref py py-class docutils literal"><span class="pre">float</span></code></dd>
<dt><em>Label</em>: {<code class="docutils literal"><span class="pre">True</span></code>} | <code class="docutils literal"><span class="pre">False</span></code></dt>
<dd>Whether or not to use the value of this key in the folder name</dd>
<dt><em>Abbreviation</em>: {<code class="docutils literal"><span class="pre">&quot;a&quot;</span></code>} | <code class="xref py py-class docutils literal"><span class="pre">str</span></code></dt>
<dd>Abbreviation for this variable when creating folder names</dd>
<dt><em>Format</em>: {<code class="docutils literal"><span class="pre">&quot;%s&quot;</span></code>} | <code class="docutils literal"><span class="pre">&quot;%.2f&quot;</span></code> | <code class="xref py py-class docutils literal"><span class="pre">str</span></code></dt>
<dd>Print flag for the name of the folder</dd>
<dt><em>PBSLabel</em>: {<code class="docutils literal"><span class="pre">True</span></code>} | <code class="docutils literal"><span class="pre">False</span></code></dt>
<dd>Whether or not to use the value of this key in the PBS job name</dd>
<dt><em>PBSFormat</em>: {<code class="docutils literal"><span class="pre">%.1f</span></code>} | <code class="docutils literal"><span class="pre">%s</span></code> | <code class="xref py py-class docutils literal"><span class="pre">str</span></code></dt>
<dd>Print flag for the name of the PBS job</dd>
</dl>
</div></blockquote>
<p><strong>phi</strong>, <strong>phiv</strong>: <code class="xref py py-class docutils literal"><span class="pre">dict</span></code></p>
<blockquote>
<div><dl class="docutils">
<dt><em>Group</em>: <code class="docutils literal"><span class="pre">True</span></code> | {<code class="docutils literal"><span class="pre">False</span></code>}</dt>
<dd>Whether or not to consider the angle of attack as a group key</dd>
<dt><em>Type</em>: <code class="docutils literal"><span class="pre">&quot;phi&quot;</span></code></dt>
<dd>Trajectory key type, must be <code class="docutils literal"><span class="pre">&quot;phi&quot;</span></code> for this type of key</dd>
<dt><em>Value</em>: <code class="docutils literal"><span class="pre">&quot;float&quot;</span></code></dt>
<dd>Name of Python type for this key, must be <code class="xref py py-class docutils literal"><span class="pre">float</span></code></dd>
<dt><em>Label</em>: {<code class="docutils literal"><span class="pre">True</span></code>} | <code class="docutils literal"><span class="pre">False</span></code></dt>
<dd>Whether or not to use the value of this key in the folder name</dd>
<dt><em>Abbreviation</em>: {<code class="docutils literal"><span class="pre">&quot;r&quot;</span></code>} | <code class="xref py py-class docutils literal"><span class="pre">str</span></code></dt>
<dd>Abbreviation for this variable when creating folder names</dd>
<dt><em>Format</em>: {<code class="docutils literal"><span class="pre">&quot;%s&quot;</span></code>} | <code class="docutils literal"><span class="pre">&quot;%.2f&quot;</span></code> | <code class="xref py py-class docutils literal"><span class="pre">str</span></code></dt>
<dd>Print flag for the name of the folder</dd>
<dt><em>PBSLabel</em>: {<code class="docutils literal"><span class="pre">True</span></code>} | <code class="docutils literal"><span class="pre">False</span></code></dt>
<dd>Whether or not to use the value of this key in the PBS job name</dd>
<dt><em>PBSFormat</em>: {<code class="docutils literal"><span class="pre">%.1f</span></code>} | <code class="docutils literal"><span class="pre">%s</span></code> | <code class="xref py py-class docutils literal"><span class="pre">str</span></code></dt>
<dd>Print flag for the name of the PBS job</dd>
<dt><em>SkipIfZero</em>: <code class="docutils literal"><span class="pre">True</span></code> | {<code class="docutils literal"><span class="pre">False</span></code>}</dt>
<dd>If set, skip this in the folder name.  For example, a folder name
would be <code class="docutils literal"><span class="pre">m2.5a1.0</span></code> instead of <code class="docutils literal"><span class="pre">m2.5a1.0r0.0</span></code>.</dd>
</dl>
</div></blockquote>
</div></blockquote>
</div>
<div class="section" id="freestream-state">
<span id="cape-state"></span><h2>4.2.2. Freestream State<a class="headerlink" href="#freestream-state" title="Permalink to this headline">¶</a></h2>
<p>The rest of the freestream variables are Mach number, freestream temperature,
and freestream pressure or something equivalent.  Cart3D is an inviscid solver,
and only needs the Mach number, but even then defining a freestream state can be
useful for post-processing or providing a reference for thrust values.</p>
<p>OVERFLOW and FUN3D use freestream static temperature and Reynolds number per
unit grid length as input variables.  Calculating this Reynolds number is not
particularly challenging, but Cape makes it easy to just specify freestream
static pressure or freestream dynamic pressure instead.  Cape will automatically
calculate <em>Re</em> using the temperature and either static pressure or dynamic
pressure when setting up a case.  Conversely, the user may define <em>Re</em> in the
standard manner, and it will automatically calculate the freestream static and
dynamic pressures as reference variables using
<a class="reference internal" href="cape/trajectory.html#cape.trajectory.Trajectory.GetPressure" title="cape.trajectory.Trajectory.GetPressure"><code class="xref py py-func docutils literal"><span class="pre">cape.trajectory.Trajectory.GetPressure()</span></code></a> and
<a class="reference internal" href="cape/trajectory.html#cape.trajectory.Trajectory.GetDynamicPressure" title="cape.trajectory.Trajectory.GetDynamicPressure"><code class="xref py py-func docutils literal"><span class="pre">cape.trajectory.Trajectory.GetDynamicPressure()</span></code></a>.</p>
<p>Finally, most codes also allow the user to specify non-default values of the
freestream ratio of specific heats, which can be done using the <em>gamma</em> run
matrix variable type.</p>
<p>Each of these trajectory key types are <em>mach</em>, <em>T</em>, <em>Re</em>, <em>gamma</em>, <em>p</em>, and <em>q</em>.
Each of these variables and their aliases are listed in the
<a class="reference internal" href="json/Trajectory.html#cape-json-trajectorygroups"><span>JSON settings description</span></a>, and they have the
same suboptions as the <em>alpha</em> and <em>beta</em> keys described in the previous
section.</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="cape/index.html" title="4.3. The cape module"
             >next</a> |</li>
        <li class="right" >
          <a href="json/Trajectory.html" title="4.1.8. Trajectory or Run Matrix"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">pyCart 0.8 documentation</a> &raquo;</li>
          <li class="nav-item nav-item-1"><a href="index.html" >4. Cape Module Documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &copy; Copyright 2014-2017, Derek J. Dalle.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.3.3.
    </div>
  </body>
</html>