
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Testing cape.cmd: Command-line Call Generation &#8212; CAPE 0.9.2</title>
    <link rel="stylesheet" href="../../_static/sphinxdoc.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Testing pyCart" href="../pycart/index.html" />
    <link rel="prev" title="Testing cape.case: Individual-Case Functions" href="case.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="../pycart/index.html" title="Testing pyCart"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="case.html" title="Testing cape.case: Individual-Case Functions"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">CAPE 0.9.2</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="index.html" accesskey="U">Testing <code class="docutils literal notranslate"><span class="pre">cape</span></code></a> &#187;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../../index.html">
              <img class="logo" src="../../_static/NASA_logo.png" alt="Logo"/>
            </a></p>
  <h3><a href="../../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Testing <code class="docutils literal notranslate"><span class="pre">cape.cmd</span></code>: Command-line Call Generation</a><ul>
<li><a class="reference internal" href="#aflr3-commands">AFLR3 Commands</a></li>
<li><a class="reference internal" href="#cart3d-intersect-commands">Cart3D <code class="docutils literal notranslate"><span class="pre">intersect</span></code> Commands</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="case.html"
                        title="previous chapter">Testing <code class="docutils literal notranslate"><span class="pre">cape.case</span></code>: Individual-Case Functions</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="../pycart/index.html"
                        title="next chapter">Testing <code class="docutils literal notranslate"><span class="pre">pyCart</span></code></a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../../_sources/test/cape/cmd.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="testing-cape-cmd-command-line-call-generation">
<span id="test-cape-cmd"></span><h1>Testing <a class="reference internal" href="../../api/cape/cmd.html#module-cape.cmd" title="cape.cmd"><code class="xref py py-mod docutils literal notranslate"><span class="pre">cape.cmd</span></code></a>: Command-line Call Generation<a class="headerlink" href="#testing-cape-cmd-command-line-call-generation" title="Permalink to this headline">¶</a></h1>
<p>This section tests the <a class="reference internal" href="../../api/cape/cmd.html#module-cape.cmd" title="cape.cmd"><code class="xref py py-mod docutils literal notranslate"><span class="pre">cape.cmd</span></code></a> module that forms command to generic
binaries.  Each flow solver module has a pair of modules <code class="xref py py-mod docutils literal notranslate"><span class="pre">cmd</span></code> (which
forms command) and <code class="xref py py-mod docutils literal notranslate"><span class="pre">bin</span></code> (which calls them).</p>
<div class="section" id="aflr3-commands">
<span id="test-cape-cmd-aflr3"></span><h2>AFLR3 Commands<a class="headerlink" href="#aflr3-commands" title="Permalink to this headline">¶</a></h2>
<p>This function forms a call to <code class="docutils literal notranslate"><span class="pre">aflr3</span></code>, a mesh generation tool, using two
methods.  The first version reads the <code class="docutils literal notranslate"><span class="pre">case.json</span></code> settings file while the
other uses keyword arguments.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Case test folder</span>
<span class="n">fcape</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">cape</span><span class="o">.</span><span class="n">test</span><span class="o">.</span><span class="n">ftcape</span><span class="p">,</span> <span class="s2">&quot;cmd&quot;</span><span class="p">)</span>
<span class="c1"># Go to this folder.</span>
<span class="n">os</span><span class="o">.</span><span class="n">chdir</span><span class="p">(</span><span class="n">fcape</span><span class="p">)</span>

<span class="c1"># Read settings</span>
<span class="n">rc</span> <span class="o">=</span> <span class="n">cape</span><span class="o">.</span><span class="n">case</span><span class="o">.</span><span class="n">ReadCaseJSON</span><span class="p">()</span>

<span class="c1"># Form command</span>
<span class="n">cmd1</span> <span class="o">=</span> <span class="n">cape</span><span class="o">.</span><span class="n">cmd</span><span class="o">.</span><span class="n">aflr3</span><span class="p">(</span><span class="n">rc</span><span class="p">)</span>
<span class="c1"># Alternate form</span>
<span class="n">cmd2</span> <span class="o">=</span> <span class="n">cape</span><span class="o">.</span><span class="n">cmd</span><span class="o">.</span><span class="n">aflr3</span><span class="p">(</span>
    <span class="n">i</span><span class="o">=</span><span class="s2">&quot;pyfun.surf&quot;</span><span class="p">,</span>
    <span class="n">o</span><span class="o">=</span><span class="s2">&quot;pyfun.lb8.ugrid&quot;</span><span class="p">,</span>
    <span class="n">blr</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span>
    <span class="n">flags</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;someflag&quot;</span><span class="p">:</span> <span class="mi">2</span><span class="p">},</span>
    <span class="n">keys</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;somekey&quot;</span><span class="p">:</span> <span class="s1">&#39;c&#39;</span><span class="p">})</span>

<span class="c1"># Output</span>
<span class="k">print</span><span class="p">(</span><span class="n">cmd1</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
<span class="k">print</span><span class="p">(</span><span class="s1">&#39; &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">cmd2</span><span class="p">))</span>
</pre></div>
</div>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>somekey=c
aflr3 -i pyfun.surf -o pyfun.lb8.ugrid -blr 10 -someflag 2 somekey=c
</pre></div>
</div>
</div>
<div class="section" id="cart3d-intersect-commands">
<span id="test-cape-cmd-intersect"></span><h2>Cart3D <code class="docutils literal notranslate"><span class="pre">intersect</span></code> Commands<a class="headerlink" href="#cart3d-intersect-commands" title="Permalink to this headline">¶</a></h2>
<p>The Cart3D utility <code class="docutils literal notranslate"><span class="pre">intersect</span></code> is used to perform Boolean operations on
triangulated surfaces, but it can also be used with other surface grids (and is
in particular used by pyFun to create FUN3D meshes in some cases).  Therefore
the command generation is placed in the generic <a class="reference internal" href="../../api/cape/index.html#module-cape" title="cape"><code class="xref py py-mod docutils literal notranslate"><span class="pre">cape</span></code></a> module rather than
<a class="reference internal" href="../../api/pyCart/index.html#module-pyCart" title="pyCart"><code class="xref py py-mod docutils literal notranslate"><span class="pre">pyCart</span></code></a>.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Case test folder</span>
<span class="n">fcape</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">cape</span><span class="o">.</span><span class="n">test</span><span class="o">.</span><span class="n">ftcape</span><span class="p">,</span> <span class="s2">&quot;cmd&quot;</span><span class="p">)</span>
<span class="c1"># Go to this folder.</span>
<span class="n">os</span><span class="o">.</span><span class="n">chdir</span><span class="p">(</span><span class="n">fcape</span><span class="p">)</span>

<span class="c1"># Read settings</span>
<span class="n">rc</span> <span class="o">=</span> <span class="n">cape</span><span class="o">.</span><span class="n">case</span><span class="o">.</span><span class="n">ReadCaseJSON</span><span class="p">()</span>

<span class="c1"># Form command</span>
<span class="n">cmd1</span> <span class="o">=</span> <span class="n">cape</span><span class="o">.</span><span class="n">cmd</span><span class="o">.</span><span class="n">intersect</span><span class="p">(</span><span class="n">rc</span><span class="p">)</span>
<span class="c1"># Alternate form</span>
<span class="n">cmd2</span> <span class="o">=</span> <span class="n">cape</span><span class="o">.</span><span class="n">cmd</span><span class="o">.</span><span class="n">intersect</span><span class="p">(</span><span class="n">T</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>

<span class="c1"># Output</span>
<span class="k">print</span><span class="p">(</span><span class="s1">&#39; &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">cmd1</span><span class="p">))</span>
<span class="k">print</span><span class="p">(</span><span class="s1">&#39; &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">cmd2</span><span class="p">))</span>
</pre></div>
</div>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>intersect -i Components.tri -o Components.i.tri -ascii -T
intersect -i Components.tri -o Components.i.tri -ascii -T
</pre></div>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="../pycart/index.html" title="Testing pyCart"
             >next</a> |</li>
        <li class="right" >
          <a href="case.html" title="Testing cape.case: Individual-Case Functions"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">CAPE 0.9.2</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="index.html" >Testing <code class="docutils literal notranslate"><span class="pre">cape</span></code></a> &#187;</li> 
      </ul>
    </div>

  <div class="footer">
   CAPE version 0.8 documentation, 2018.  Created using Sphinx 1.6.3.
  </div>


  </body>
</html>