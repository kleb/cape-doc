<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>4.3.3. Case Control Module: cape.case &mdash; pyCart 0.8 documentation</title>
    
    <link rel="stylesheet" href="../../_static/sphinxdoc.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '0.8',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <link rel="top" title="pyCart 0.8 documentation" href="../../index.html" />
    <link rel="up" title="4.3. The cape module" href="index.html" />
    <link rel="next" title="4.3.4. Create command strings for binary modules" href="cmd.html" />
    <link rel="prev" title="4.3.2. Cape binary interface module: cape.bin" href="bin.html" /> 
  </head>
  <body role="document">
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="cmd.html" title="4.3.4. Create command strings for binary modules"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="bin.html" title="4.3.2. Cape binary interface module: cape.bin"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">pyCart 0.8 documentation</a> &raquo;</li>
          <li class="nav-item nav-item-1"><a href="../index.html" >4. Cape Module Documentation</a> &raquo;</li>
          <li class="nav-item nav-item-2"><a href="index.html" accesskey="U">4.3. The <code class="docutils literal"><span class="pre">cape</span></code> module</a> &raquo;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h4>Previous topic</h4>
  <p class="topless"><a href="bin.html"
                        title="previous chapter">4.3.2. Cape binary interface module: <code class="docutils literal"><span class="pre">cape.bin</span></code></a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="cmd.html"
                        title="next chapter">4.3.4. Create command strings for binary modules</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../../_sources/cape/cape/case.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <span class="target" id="module-cape.case"></span><div class="section" id="case-control-module-cape-case">
<h1>4.3.3. Case Control Module: <a class="reference internal" href="#module-cape.case" title="cape.case"><code class="xref py py-mod docutils literal"><span class="pre">cape.case</span></code></a><a class="headerlink" href="#case-control-module-cape-case" title="Permalink to this headline">¶</a></h1>
<p>This module contains templates for interacting with individual cases.  Since
this is one of the most highly customized modules of the Cape system, there are
few functions here, and the functions that are present are mostly templates.</p>
<p>In general, the <code class="xref py py-mod docutils literal"><span class="pre">case</span></code> module is used for actually running the CFD solver
(and any additional binaries that may be required as part of the run process),
and it contains other capabilities for renaming files and determining the
settings for a particular case.  Cape saves many settings for the CFD solver and
archiving in a file called <code class="file docutils literal"><span class="pre">case.json</span></code> within each case folder, which
prevents changes to the master JSON file from unpredictably affecting cases that
have already been initialized or are already running.</p>
<p>Actual functionality is left to individual modules listed below.</p>
<blockquote>
<div><ul class="simple">
<li><code class="xref py py-mod docutils literal"><span class="pre">pyCart.case</span></code></li>
<li><code class="xref py py-mod docutils literal"><span class="pre">pyFun.case</span></code></li>
<li><code class="xref py py-mod docutils literal"><span class="pre">pyOver.case</span></code></li>
</ul>
</div></blockquote>
<p>Several of the key methods for this API module are described below.</p>
<dl class="function">
<dt id="cape.case.ReadCaseJSON">
<code class="descclassname">cape.case.</code><code class="descname">ReadCaseJSON</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cape.case.ReadCaseJSON" title="Permalink to this definition">¶</a></dt>
<dd><p>Read Cape settings for local case</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Call:</th><td class="field-body"><div class="first highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">rc</span> <span class="o">=</span> <span class="n">cape</span><span class="o">.</span><span class="n">case</span><span class="o">.</span><span class="n">ReadCaseJSON</span><span class="p">()</span>
</pre></div>
</div>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Outputs:</th><td class="field-body"><dl class="first docutils">
<dt><em>rc</em>: <a class="reference internal" href="options/runControl.html#cape.options.runControl.RunControl" title="cape.options.runControl.RunControl"><code class="xref py py-class docutils literal"><span class="pre">cape.options.runControl.RunControl</span></code></a></dt>
<dd><p class="first last">Options interface for run control and command-line inputs</p>
</dd>
</dl>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Versions:</th><td class="field-body"><ul class="first last simple">
<li>2014-10-02 <code class="docutils literal"><span class="pre">&#64;ddalle</span></code>: First version</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="cape.case.PrepareEnvironment">
<code class="descclassname">cape.case.</code><code class="descname">PrepareEnvironment</code><span class="sig-paren">(</span><em>rc</em>, <em>i=0</em><span class="sig-paren">)</span><a class="headerlink" href="#cape.case.PrepareEnvironment" title="Permalink to this definition">¶</a></dt>
<dd><p>Set environment variables and alter any resource limits (<code class="docutils literal"><span class="pre">ulimit</span></code>)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Call:</th><td class="field-body"><div class="first highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">case</span><span class="o">.</span><span class="n">PrepareEnvironment</span><span class="p">(</span><span class="n">rc</span><span class="p">,</span> <span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
</pre></div>
</div>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Inputs:</th><td class="field-body"><dl class="first docutils">
<dt><em>rc</em>: <a class="reference internal" href="options/runControl.html#cape.options.runControl.RunControl" title="cape.options.runControl.RunControl"><code class="xref py py-class docutils literal"><span class="pre">cape.options.runControl.RunControl</span></code></a></dt>
<dd><p class="first last">Options interface for run control and command-line inputs</p>
</dd>
<dt><em>i</em>: <code class="xref py py-class docutils literal"><span class="pre">int</span></code></dt>
<dd><p class="first last">Phase number</p>
</dd>
</dl>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Versions:</th><td class="field-body"><ul class="first last simple">
<li>2015-11-10 <code class="docutils literal"><span class="pre">&#64;ddalle</span></code>: First version</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="cape.case.SetResourceLimit">
<code class="descclassname">cape.case.</code><code class="descname">SetResourceLimit</code><span class="sig-paren">(</span><em>r</em>, <em>ulim</em>, <em>u</em>, <em>i=0</em>, <em>unit=1024</em><span class="sig-paren">)</span><a class="headerlink" href="#cape.case.SetResourceLimit" title="Permalink to this definition">¶</a></dt>
<dd><p>Set resource limit</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Call:</th><td class="field-body"><div class="first highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">SetResourceLimit</span><span class="p">(</span><span class="n">r</span><span class="p">,</span> <span class="n">ulim</span><span class="p">,</span> <span class="n">u</span><span class="p">,</span> <span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">unit</span><span class="o">=</span><span class="mi">1024</span><span class="p">)</span>
</pre></div>
</div>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Inputs:</th><td class="field-body"><dl class="first docutils">
<dt><em>r</em>: <code class="xref py py-class docutils literal"><span class="pre">int</span></code></dt>
<dd><p class="first last">Integer code of particular limit, usually from <code class="xref py py-mod docutils literal"><span class="pre">resource</span></code></p>
</dd>
<dt><em>ulim</em>: <a class="reference internal" href="options/ulimit.html#cape.options.ulimit.ulimit" title="cape.options.ulimit.ulimit"><code class="xref py py-class docutils literal"><span class="pre">cape.options.ulimit.ulimit</span></code></a></dt>
<dd><p class="first last">System resource options interface</p>
</dd>
<dt><em>u</em>: <code class="xref py py-class docutils literal"><span class="pre">str</span></code></dt>
<dd><p class="first last">Name of limit to set</p>
</dd>
<dt><em>i</em>: <code class="xref py py-class docutils literal"><span class="pre">int</span></code></dt>
<dd><p class="first last">Phase number</p>
</dd>
<dt><em>unit</em>: <code class="xref py py-class docutils literal"><span class="pre">int</span></code></dt>
<dd><p class="first last">Multiplier, usually for a kbyte</p>
</dd>
</dl>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Versions:</th><td class="field-body"><ul class="first last simple">
<li>2016-03-13 <code class="docutils literal"><span class="pre">&#64;ddalle</span></code>: First version</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="cape.case.WriteUserTimeProg">
<code class="descclassname">cape.case.</code><code class="descname">WriteUserTimeProg</code><span class="sig-paren">(</span><em>tic</em>, <em>rc</em>, <em>i</em>, <em>fname</em>, <em>prog</em><span class="sig-paren">)</span><a class="headerlink" href="#cape.case.WriteUserTimeProg" title="Permalink to this definition">¶</a></dt>
<dd><p>Write time usage since time <em>tic</em> to file</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Call:</th><td class="field-body"><div class="first highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">toc</span> <span class="o">=</span> <span class="n">WriteUserTime</span><span class="p">(</span><span class="n">tic</span><span class="p">,</span> <span class="n">rc</span><span class="p">,</span> <span class="n">i</span><span class="p">,</span> <span class="n">fname</span><span class="p">,</span> <span class="n">prog</span><span class="p">)</span>
</pre></div>
</div>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Inputs:</th><td class="field-body"><dl class="first docutils">
<dt><em>tic</em>: <code class="xref py py-class docutils literal"><span class="pre">datetime.datetime</span></code></dt>
<dd><p class="first last">Time from which timer will be measured</p>
</dd>
<dt><em>rc</em>: <code class="xref py py-class docutils literal"><span class="pre">pyCart.options.runControl.RunControl</span></code></dt>
<dd><p class="first last">Options interface</p>
</dd>
<dt><em>i</em>: <code class="xref py py-class docutils literal"><span class="pre">int</span></code></dt>
<dd><p class="first last">Phase number</p>
</dd>
<dt><em>fname</em>: <code class="xref py py-class docutils literal"><span class="pre">str</span></code></dt>
<dd><p class="first last">Name of file containing CPU usage history</p>
</dd>
<dt><em>prog</em>: <code class="xref py py-class docutils literal"><span class="pre">str</span></code></dt>
<dd><p class="first last">Name of program to write in history</p>
</dd>
</dl>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Outputs:</th><td class="field-body"><dl class="first docutils">
<dt><em>toc</em>: <code class="xref py py-class docutils literal"><span class="pre">datetime.datetime</span></code></dt>
<dd><p class="first last">Time at which time delta was measured</p>
</dd>
</dl>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Versions:</th><td class="field-body"><ul class="first last simple">
<li>2015-12-09 <code class="docutils literal"><span class="pre">&#64;ddalle</span></code>: First version</li>
<li>2015-12-22 <code class="docutils literal"><span class="pre">&#64;ddalle</span></code>: Copied from <code class="xref py py-mod docutils literal"><span class="pre">pyCart.case</span></code></li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="cape.case.GetCurrentIter">
<code class="descclassname">cape.case.</code><code class="descname">GetCurrentIter</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cape.case.GetCurrentIter" title="Permalink to this definition">¶</a></dt>
<dd><p>Skeleton function to report the current most recent iteration for which
force and moment data can be found</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Call:</th><td class="field-body"><div class="first highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">n</span> <span class="o">=</span> <span class="n">cape</span><span class="o">.</span><span class="n">case</span><span class="o">.</span><span class="n">GetCurrentIter</span><span class="p">()</span>
</pre></div>
</div>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Outputs:</th><td class="field-body"><dl class="first docutils">
<dt><em>n</em>: <code class="docutils literal"><span class="pre">0</span></code></dt>
<dd><p class="first last">Most recent index, customized for each solver</p>
</dd>
</dl>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Versions:</th><td class="field-body"><ul class="first last simple">
<li>2015-09-27 <code class="docutils literal"><span class="pre">&#64;ddalle</span></code>: First version</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="cape.case.StartCase">
<code class="descclassname">cape.case.</code><code class="descname">StartCase</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cape.case.StartCase" title="Permalink to this definition">¶</a></dt>
<dd><p>Empty template for starting a case</p>
<p>The function is empty</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Call:</th><td class="field-body"><div class="first highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">cape</span><span class="o">.</span><span class="n">case</span><span class="o">.</span><span class="n">StartCase</span><span class="p">()</span>
</pre></div>
</div>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Versions:</th><td class="field-body"><ul class="first last simple">
<li>2015-09-27 <code class="docutils literal"><span class="pre">&#64;ddalle</span></code>: Skeleton</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="cape.case.StopCase">
<code class="descclassname">cape.case.</code><code class="descname">StopCase</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cape.case.StopCase" title="Permalink to this definition">¶</a></dt>
<dd><p>Stop a case by deleting its PBS job and removing <code class="file docutils literal"><span class="pre">RUNNING</span></code> file</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Call:</th><td class="field-body"><div class="first highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">case</span><span class="o">.</span><span class="n">StopCase</span><span class="p">()</span>
</pre></div>
</div>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Versions:</th><td class="field-body"><ul class="first last simple">
<li>2014-12-27 <code class="docutils literal"><span class="pre">&#64;ddalle</span></code>: First version</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="cmd.html" title="4.3.4. Create command strings for binary modules"
             >next</a> |</li>
        <li class="right" >
          <a href="bin.html" title="4.3.2. Cape binary interface module: cape.bin"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">pyCart 0.8 documentation</a> &raquo;</li>
          <li class="nav-item nav-item-1"><a href="../index.html" >4. Cape Module Documentation</a> &raquo;</li>
          <li class="nav-item nav-item-2"><a href="index.html" >4.3. The <code class="docutils literal"><span class="pre">cape</span></code> module</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &copy; Copyright 2014-2017, Derek J. Dalle.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.3.3.
    </div>
  </body>
</html>